# MovieBase
Инструмент для работы с базой данных фильмов. Данный документ описывает процесс оптимизации производительности и пессимизации в ходе разработки.

## Тестовая среда
Все тесты производились на процессоре Ryzen 5 3500U с 8 ГБ оперативной памяти и SSD.

## История оптимизаций

### Оптимизация загрузки 917 000 фильмов
1. Первая версия:
    - Время выполнения: 150 секунд.
    - Задача: Загрузка информации о 917 000 фильмах из базы данных.
    - Основная проблема: использовались неоптимальные функции такие как contains и startWith.

2. Удаление "медленного" кода:
    - Удалены "тяжелые" функции.
    - Результат: Время загрузки данных сократилось до 51 секунды.

3. Параллельная обработка:
    - Добавлена поддержка параллельной обработки для работы с фильмами в диапазоне от 917 000 до 970 000.
    - Время выполнения увеличилось — 70 секунд из-за возникающих коллизий и накладных расходов при использовании параллелизма.

4. Оптимизация с использованием Span:
    - В модуле DBRepository использование функции String.Split заменено на Span.Split.
    - Результат: снижение времени выполнения с 49-50 секунд до 47 секунд.

### Оптимизация сохранения данных в базу данных
1. Исходная версия:
    - Загрузка данных в базу проводилась поэлементно.
    - Время выполнения: более 2 часов.

2. Оптимизация через Bulk Insert:
    - Для сохранения данных в базу вместо поэлементного подхода добавлено использование массовых операций (Bulk Insert).
    - Результат: время загрузки данных сократилось с 2+ часов до 444 секунд.